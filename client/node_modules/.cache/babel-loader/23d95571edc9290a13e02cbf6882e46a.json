{"ast":null,"code":"import _classCallCheck from\"C:/NTU/Admin/internship/recipe app - abillionveg/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/NTU/Admin/internship/recipe app - abillionveg/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"C:/NTU/Admin/internship/recipe app - abillionveg/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/NTU/Admin/internship/recipe app - abillionveg/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{Link}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Recipe=/*#__PURE__*/function(_Component){_inherits(Recipe,_Component);var _super=_createSuper(Recipe);function Recipe(){var _this;_classCallCheck(this,Recipe);_this=_super.call(this);_this.getID=function(){var id=_this.props.match.params.id;_this.setState({id:id},_this.getRecipe);};_this.getRecipe=function(){var requestOptions={method:'GET',redirect:'follow'};fetch(\"/api/v1/recipes/\".concat(_this.state.id),requestOptions).then(function(res){return res.text();}).then(function(res){var response=JSON.parse(res).data.data;var data={};data.title=response.title;data.image=response.image;data.ingredients=response.ingredients;data.steps=response.steps;// const responses = JSON.parse(res).data.data;\n_this.setState(data);}).catch(function(error){return console.log('error',error);});};_this.checkDelete=function(){_this.setState({delete:true});};_this.delete=function(){var requestOptions={method:'DELETE',redirect:'follow'};fetch(\"/api/v1/recipes/\".concat(_this.state.id),requestOptions).then(function(res){return res.text();}).then(function(res){return _this.setState({deleted:true});}).catch(function(error){return console.log('error',error);});};_this.noDelete=function(){_this.setState({delete:false});};_this.componentWillMount=function(){_this.getID();};_this.state={title:null,steps:[],image:null,ingredients:[],id:null,delete:false,deleted:false};return _this;}_createClass(Recipe,[{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"recipe-title\",children:this.state.title}),/*#__PURE__*/_jsxs(\"div\",{className:\"recipe-buttons-wrap\",children:[/*#__PURE__*/_jsx(Link,{to:\"/edit/\".concat(this.state.id),children:/*#__PURE__*/_jsx(\"button\",{className:\"edit button\",children:\"edit\"})}),/*#__PURE__*/_jsx(\"button\",{className:\"delete button\",onClick:this.checkDelete,children:\"delete\"})]}),/*#__PURE__*/_jsx(\"img\",{className:\"recipe-img\",src:this.state.image,alt:\"\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"ingredients-wrap\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"recipe-ingredients\",children:\"Ingredients\"}),/*#__PURE__*/_jsx(\"ol\",{children:this.state.ingredients.map(function(ingredient){return/*#__PURE__*/_jsxs(\"li\",{className:\"recipe-ingredient\",children:[ingredient.name,\" - \",ingredient.quantity]},ingredient._id);})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"steps-wrap\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"recipe-steps\",children:\"Steps\"}),/*#__PURE__*/_jsx(\"ol\",{children:this.state.steps.map(function(step,i){return/*#__PURE__*/_jsx(\"li\",{className:\"recipe-step\",children:step.instruction},i);})})]}),this.state.delete&&/*#__PURE__*/_jsxs(\"div\",{className:\"background\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"question\",children:\"Are you sure you want to delete this recipe?\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"buttons-wrap\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"button yes\",onClick:this.delete,children:\"yes\"}),/*#__PURE__*/_jsx(\"button\",{className:\"button no\",onClick:this.noDelete,children:\"no\"})]})]}),this.state.deleted&&/*#__PURE__*/_jsxs(\"div\",{className:\"background\",children:[/*#__PURE__*/_jsxs(\"h1\",{className:\"question\",children:[\"The Recipe - \",this.state.title,\" - has been deleted\"]}),/*#__PURE__*/_jsx(Link,{className:\"buttons-wrap\",to:\"/\",children:/*#__PURE__*/_jsx(\"button\",{className:\"button link\",children:\"Go back Home\"})})]})]});}}]);return Recipe;}(Component);export default Recipe;","map":{"version":3,"sources":["C:/NTU/Admin/internship/recipe app - abillionveg/client/src/components/Recipe.js"],"names":["React","Component","Link","Recipe","getID","id","props","match","params","setState","getRecipe","requestOptions","method","redirect","fetch","state","then","res","text","response","JSON","parse","data","title","image","ingredients","steps","catch","error","console","log","checkDelete","delete","deleted","noDelete","componentWillMount","map","ingredient","name","quantity","_id","step","i","instruction"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nclass Recipe extends Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      title: null,\r\n      steps: [],\r\n      image: null,\r\n      ingredients: [],\r\n      id: null,\r\n      delete: false,\r\n      deleted: false,\r\n    };\r\n  }\r\n  getID = () => {\r\n    const id = this.props.match.params.id;\r\n    this.setState({ id }, this.getRecipe);\r\n  };\r\n\r\n  getRecipe = () => {\r\n    var requestOptions = {\r\n      method: 'GET',\r\n      redirect: 'follow',\r\n    };\r\n\r\n    fetch(`/api/v1/recipes/${this.state.id}`, requestOptions)\r\n      .then((res) => res.text())\r\n      .then((res) => {\r\n        const response = JSON.parse(res).data.data;\r\n\r\n        let data = {};\r\n        data.title = response.title;\r\n        data.image = response.image;\r\n        data.ingredients = response.ingredients;\r\n        data.steps = response.steps;\r\n\r\n        // const responses = JSON.parse(res).data.data;\r\n        this.setState(data);\r\n      })\r\n      .catch((error) => console.log('error', error));\r\n  };\r\n\r\n  checkDelete = () => {\r\n    this.setState({ delete: true });\r\n  };\r\n  delete = () => {\r\n    var requestOptions = {\r\n      method: 'DELETE',\r\n      redirect: 'follow',\r\n    };\r\n\r\n    fetch(`/api/v1/recipes/${this.state.id}`, requestOptions)\r\n      .then((res) => res.text())\r\n      .then((res) => this.setState({ deleted: true }))\r\n      .catch((error) => console.log('error', error));\r\n  };\r\n  noDelete = () => {\r\n    this.setState({ delete: false });\r\n  };\r\n  componentWillMount = () => {\r\n    this.getID();\r\n  };\r\n  render() {\r\n    return (\r\n      <div>\r\n        <h1 className=\"recipe-title\">{this.state.title}</h1>\r\n        <div className=\"recipe-buttons-wrap\">\r\n          <Link to={`/edit/${this.state.id}`}>\r\n            <button className=\"edit button\">edit</button>\r\n          </Link>\r\n\r\n          <button className=\"delete button\" onClick={this.checkDelete}>\r\n            delete\r\n          </button>\r\n        </div>\r\n\r\n        <img className=\"recipe-img\" src={this.state.image} alt=\"\"></img>\r\n\r\n        <div className=\"ingredients-wrap\">\r\n          <h2 className=\"recipe-ingredients\">Ingredients</h2>\r\n          <ol>\r\n            {this.state.ingredients.map((ingredient) => (\r\n              <li key={ingredient._id} className=\"recipe-ingredient\">\r\n                {ingredient.name} - {ingredient.quantity}\r\n              </li>\r\n            ))}\r\n          </ol>\r\n        </div>\r\n        <div className=\"steps-wrap\">\r\n          <h2 className=\"recipe-steps\">Steps</h2>\r\n          <ol>\r\n            {this.state.steps.map((step, i) => (\r\n              <li className=\"recipe-step\" key={i}>\r\n                {step.instruction}\r\n              </li>\r\n            ))}\r\n          </ol>\r\n        </div>\r\n\r\n        {this.state.delete && (\r\n          <div className=\"background\">\r\n            <h1 className=\"question\">\r\n              Are you sure you want to delete this recipe?\r\n            </h1>\r\n            <div className=\"buttons-wrap\">\r\n              <button className=\"button yes\" onClick={this.delete}>\r\n                yes\r\n              </button>\r\n\r\n              <button className=\"button no\" onClick={this.noDelete}>\r\n                no\r\n              </button>\r\n            </div>\r\n          </div>\r\n        )}\r\n        {this.state.deleted && (\r\n          <div className=\"background\">\r\n            <h1 className=\"question\">\r\n              The Recipe - {this.state.title} - has been deleted\r\n            </h1>\r\n            <Link className=\"buttons-wrap\" to=\"/\">\r\n              <button className=\"button link\">Go back Home</button>\r\n            </Link>\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Recipe;\r\n"]},"metadata":{},"sourceType":"module"}